<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../neon-animation/neon-animation-behavior.html">

<script>
Polymer({
    is: 'cmidt-grow-animation',

    behaviors: [
        Polymer.NeonAnimationBehavior
    ],

    configure: function(config) {
        var node = config.node;

        var height = node.getBoundingClientRect().height;
        var width = node.getBoundingClientRect().width;

        var halfHeight = height/2;
        var halfWidth = width/2;

        // disable width animate for now as it has a wired ending shrink
        var from = {
            height: halfHeight + 'px',
            // width: halfWidth + 'px'
        };
        var to = {
            height: height + 'px',
            // width: height + 'px',
        };
        
        if (config.verticalAlign() == 'bottom'){
            from.marginTop = halfHeight+'px';
            to.marginTop = '0';
        }

        // if (config.horizontalAlign() == 'right'){
        //     from.marginLeft = halfWidth+'px';
        //     to.marginLeft = '0';
        // }

        this._effect = new KeyframeEffect(node, [from, to], this.timingFromConfig(config));

        return this._effect;
    }
});
</script>
